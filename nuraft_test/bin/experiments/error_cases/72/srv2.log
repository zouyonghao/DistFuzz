2021-09-15T09:26:14.860_558+00:00 [a2fe] [====] Start logger: ./srv2.log (32 MB per file, up to 10 files)	[logger.cc:966, start()]
2021-09-15T09:26:14.882_341+00:00 [a2fe] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:706, asio_rpc_listener()]
2021-09-15T09:26:14.882_653+00:00 [a2fe] [INFO] parameters: timeout 200 - 400, heartbeat 100, leadership expiry 2000, max batch 100, backoff 50, snapshot distance 5, log sync stop gap 99999, reserved logs 5, client timeout 3000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0	[raft_server.cxx:367, apply_and_log_current_params()]
2021-09-15T09:26:14.882_694+00:00 [a2fe] [INFO] new timeout range: 200 -- 400	[raft_server.cxx:317, update_rand_timeout()]
2021-09-15T09:26:14.882_808+00:00 [a2fe] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:141, raft_server()]
2021-09-15T09:26:14.882_857+00:00 [a2fe] [INFO] peer 2: DC ID 0, 127.0.1.1:10002, voting member, 1
my id: 2, voting_member
num peers: 0	[raft_server.cxx:234, raft_server()]
2021-09-15T09:26:14.882_888+00:00 [a2fe] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:253, start_server()]
2021-09-15T09:26:14.889_532+00:00 [a2fe] [INFO] wait for HB, for 50 + [200, 400] ms	[raft_server.cxx:280, start_server()]
2021-09-15T09:26:14.889_769+00:00 [2e2e] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:47, append_entries_in_bg()]
2021-09-15T09:26:14.939_886+00:00 [a2fe] [WARN] Got timeout value: 351	[handle_timeout.cxx:164, restart_election_timer()]
2021-09-15T09:26:15.291_606+00:00 [4950] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:266, handle_election_timeout()]
2021-09-15T09:26:15.291_645+00:00 [4950] [INFO] [PRIORITY] decay, target 1 -> 1, mine 1	[handle_priority.cxx:212, decay_target_priority()]
2021-09-15T09:26:15.291_784+00:00 [4950] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 1, hb dead, pre-vote NOT done	[handle_timeout.cxx:284, handle_election_timeout()]
2021-09-15T09:26:15.291_956+00:00 [4950] [INFO] [VOTE INIT] my id 2, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 1)	[handle_vote.cxx:198, request_vote()]
2021-09-15T09:26:15.292_052+00:00 [4950] [INFO] number of pending commit elements: 0	[raft_server.cxx:915, become_leader()]
2021-09-15T09:26:15.292_203+00:00 [4950] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:931, become_leader()]
2021-09-15T09:26:15.292_713+00:00 [4950] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:972, become_leader()]
2021-09-15T09:26:15.293_272+00:00 [befd] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:351, commit_conf()]
2021-09-15T09:26:15.293_362+00:00 [befd] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:534, reconfigure()]
2021-09-15T09:26:15.293_425+00:00 [befd] [INFO] new configuration: log idx 1, prev log idx 0
peer 2, DC ID 0, 127.0.1.1:10002, voting member, 1
my id: 2, leader: 2, term: 1	[handle_commit.cxx:744, reconfigure()]
2021-09-15T09:26:15.985_887+00:00 [fe5b] [INFO] receive a incoming rpc connection	[asio_service.cxx:765, handle_accept()]
2021-09-15T09:26:15.986_808+00:00 [fe5b] [INFO] session 1 got connection from 127.0.0.1:51286 (as a server)	[asio_service.cxx:247, prepare_handshake()]
2021-09-15T09:26:15.989_193+00:00 [3e12] [INFO] got join cluster req from leader 1	[handle_join_leave.cxx:163, handle_join_cluster_req()]
2021-09-15T09:26:15.989_612+00:00 [3e12] [INFO] new config log idx 1, prev log idx 0, cur config log idx 1, prev log idx 0	[handle_commit.cxx:534, reconfigure()]
2021-09-15T09:26:15.998_407+00:00 [3e12] [INFO] server 1 is added to cluster	[handle_commit.cxx:609, reconfigure()]
2021-09-15T09:26:15.998_640+00:00 [3e12] [INFO] peer 2 cannot be found, no action for removing	[handle_commit.cxx:694, reconfigure()]
2021-09-15T09:26:15.998_737+00:00 [3e12] [INFO] add peer 1, 127.0.1.1:10001, voting member	[handle_commit.cxx:699, reconfigure()]
2021-09-15T09:26:15.999_324+00:00 [3e12] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 0, 127.0.1.1:10001, voting member, 1
my id: 2, leader: 1, term: 1	[handle_commit.cxx:744, reconfigure()]
2021-09-15T09:26:16.009_392+00:00 [63a1] [ERRO] session 1 failed to read rpc header from socket 127.0.0.1:51286 due to error 2	[asio_service.cxx:314, operator()()]
2021-09-15T09:26:16.109_930+00:00 [fe5b] [INFO] receive a incoming rpc connection	[asio_service.cxx:765, handle_accept()]
2021-09-15T09:26:16.109_981+00:00 [fe5b] [INFO] session 2 got connection from 127.0.0.1:51288 (as a server)	[asio_service.cxx:247, prepare_handshake()]
2021-09-15T09:26:16.112_296+00:00 [3e12] [INFO] [LOG XX] req log idx: 2, req log term: 1, my last log idx: 1, my log (2) term: 0	[handle_append_entries.cxx:555, handle_append_entries()]
2021-09-15T09:26:16.112_395+00:00 [3e12] [INFO] deny, req term 1, my term 1, req log idx 2, my log idx 1	[handle_append_entries.cxx:562, handle_append_entries()]
2021-09-15T09:26:16.114_896+00:00 [3e12] [INFO] receive a config change from leader at 2	[handle_append_entries.cxx:704, handle_append_entries()]
2021-09-15T09:26:16.115_836+00:00 [befd] [INFO] config at index 1 is committed, prev config log idx 1	[handle_commit.cxx:351, commit_conf()]
2021-09-15T09:26:16.116_564+00:00 [befd] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:351, commit_conf()]
2021-09-15T09:26:16.116_724+00:00 [befd] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:534, reconfigure()]
2021-09-15T09:26:16.117_165+00:00 [befd] [INFO] now this node is the part of cluster, catch-up process is done, clearing the flag	[handle_commit.cxx:567, reconfigure()]
2021-09-15T09:26:16.117_572+00:00 [befd] [WARN] Got timeout value: 324	[handle_timeout.cxx:164, restart_election_timer()]
2021-09-15T09:26:16.119_742+00:00 [befd] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 0, 127.0.1.1:10001, voting member, 1
peer 2, DC ID 0, 127.0.1.1:10002, voting member, 1
my id: 2, leader: 1, term: 1	[handle_commit.cxx:744, reconfigure()]
2021-09-15T09:26:16.443_533+00:00 [fe5b] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:266, handle_election_timeout()]
2021-09-15T09:26:16.444_062+00:00 [fe5b] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 1, state term 1, target p 1, my p 1, hb alive, pre-vote NOT done	[handle_timeout.cxx:284, handle_election_timeout()]
2021-09-15T09:26:16.444_538+00:00 [fe5b] [INFO] reset RPC client for peer 1	[handle_vote.cxx:79, request_prevote()]
2021-09-15T09:26:16.454_725+00:00 [fe5b] [INFO] [PRE-VOTE INIT] my id 2, my role follower, term 1, log idx 2, log term 1, priority (target 1 / mine 1)	[handle_vote.cxx:138, request_prevote()]
2021-09-15T09:26:16.475_908+00:00 [fe5b] [WARN] Got timeout value: 236	[handle_timeout.cxx:164, restart_election_timer()]
2021-09-15T09:26:16.480_647+00:00 [4950] [INFO] 0x7b5400020310 connected to 127.0.1.1:10001 (as a client)	[asio_service.cxx:1188, connected()]
2021-09-15T09:26:16.482_867+00:00 [fe5b] [INFO] [PRE-VOTE RESP] peer 1 (X), term 1, resp term 1, my role follower, dead 1, live 1, num voting members 2, quorum 2	[handle_vote.cxx:434, handle_prevote_resp()]
2021-09-15T09:26:16.713_773+00:00 [3e12] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:266, handle_election_timeout()]
2021-09-15T09:26:16.713_820+00:00 [3e12] [INFO] [PRIORITY] decay, target 1 -> 1, mine 1	[handle_priority.cxx:212, decay_target_priority()]
2021-09-15T09:26:16.713_895+00:00 [3e12] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 1, state term 1, target p 1, my p 1, hb dead, pre-vote NOT done	[handle_timeout.cxx:284, handle_election_timeout()]
2021-09-15T09:26:16.714_025+00:00 [3e12] [INFO] [PRE-VOTE INIT] my id 2, my role follower, term 1, log idx 2, log term 1, priority (target 1 / mine 1)	[handle_vote.cxx:138, request_prevote()]
2021-09-15T09:26:16.715_163+00:00 [3e12] [WARN] Got timeout value: 320	[handle_timeout.cxx:164, restart_election_timer()]
2021-09-15T09:26:16.717_707+00:00 [fe5b] [INFO] [PRE-VOTE RESP] peer 1 (X), term 1, resp term 1, my role follower, dead 1, live 1, num voting members 2, quorum 2	[handle_vote.cxx:434, handle_prevote_resp()]
2021-09-15T09:26:17.038_020+00:00 [4950] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:266, handle_election_timeout()]
2021-09-15T09:26:17.038_118+00:00 [4950] [INFO] [PRIORITY] decay, target 1 -> 1, mine 1	[handle_priority.cxx:212, decay_target_priority()]
2021-09-15T09:26:17.038_279+00:00 [4950] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 1, state term 1, target p 1, my p 1, hb dead, pre-vote NOT done	[handle_timeout.cxx:284, handle_election_timeout()]
2021-09-15T09:26:17.038_418+00:00 [4950] [INFO] [PRE-VOTE INIT] my id 2, my role follower, term 1, log idx 2, log term 1, priority (target 1 / mine 1)	[handle_vote.cxx:138, request_prevote()]
2021-09-15T09:26:17.039_028+00:00 [4950] [WARN] Got timeout value: 244	[handle_timeout.cxx:164, restart_election_timer()]
2021-09-15T09:26:17.040_920+00:00 [3e12] [INFO] [PRE-VOTE RESP] peer 1 (X), term 1, resp term 1, my role follower, dead 1, live 1, num voting members 2, quorum 2	[handle_vote.cxx:434, handle_prevote_resp()]
2021-09-15T09:26:17.284_829+00:00 [63a1] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:266, handle_election_timeout()]
2021-09-15T09:26:17.284_855+00:00 [63a1] [INFO] [PRIORITY] decay, target 1 -> 1, mine 1	[handle_priority.cxx:212, decay_target_priority()]
2021-09-15T09:26:17.284_889+00:00 [63a1] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 1, state term 1, target p 1, my p 1, hb dead, pre-vote NOT done	[handle_timeout.cxx:284, handle_election_timeout()]
2021-09-15T09:26:17.284_919+00:00 [63a1] [INFO] [PRE-VOTE INIT] my id 2, my role follower, term 1, log idx 2, log term 1, priority (target 1 / mine 1)	[handle_vote.cxx:138, request_prevote()]
2021-09-15T09:26:17.285_051+00:00 [63a1] [WARN] Got timeout value: 216	[handle_timeout.cxx:164, restart_election_timer()]
2021-09-15T09:26:17.501_798+00:00 [fe5b] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:266, handle_election_timeout()]
2021-09-15T09:26:17.501_886+00:00 [fe5b] [INFO] [PRIORITY] decay, target 1 -> 1, mine 1	[handle_priority.cxx:212, decay_target_priority()]
2021-09-15T09:26:17.502_012+00:00 [fe5b] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 1, state term 1, target p 1, my p 1, hb dead, pre-vote NOT done	[handle_timeout.cxx:284, handle_election_timeout()]
2021-09-15T09:26:17.502_148+00:00 [fe5b] [WARN] total 1 nodes (including this node) responded for pre-vote (term 1, live 0, dead 1), at least 2 nodes should respond. failure count 1	[handle_vote.cxx:98, request_prevote()]
2021-09-15T09:26:17.502_241+00:00 [fe5b] [INFO] [PRE-VOTE INIT] my id 2, my role follower, term 1, log idx 2, log term 1, priority (target 1 / mine 1)	[handle_vote.cxx:138, request_prevote()]
2021-09-15T09:26:17.502_300+00:00 [fe5b] [WARN] failed to send prevote request: peer 1 (127.0.1.1:10001) is busy	[handle_vote.cxx:159, request_prevote()]
2021-09-15T09:26:17.502_420+00:00 [fe5b] [WARN] Got timeout value: 295	[handle_timeout.cxx:164, restart_election_timer()]
2021-09-15T09:26:17.799_059+00:00 [3e12] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:266, handle_election_timeout()]
2021-09-15T09:26:17.799_129+00:00 [3e12] [INFO] [PRIORITY] decay, target 1 -> 1, mine 1	[handle_priority.cxx:212, decay_target_priority()]
2021-09-15T09:26:17.799_255+00:00 [3e12] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 1, state term 1, target p 1, my p 1, hb dead, pre-vote NOT done	[handle_timeout.cxx:284, handle_election_timeout()]
2021-09-15T09:26:17.799_511+00:00 [3e12] [WARN] total 1 nodes (including this node) responded for pre-vote (term 1, live 0, dead 1), at least 2 nodes should respond. failure count 2	[handle_vote.cxx:98, request_prevote()]
2021-09-15T09:26:17.799_592+00:00 [3e12] [INFO] [PRE-VOTE INIT] my id 2, my role follower, term 1, log idx 2, log term 1, priority (target 1 / mine 1)	[handle_vote.cxx:138, request_prevote()]
2021-09-15T09:26:17.799_655+00:00 [3e12] [WARN] failed to send prevote request: peer 1 (127.0.1.1:10001) is busy	[handle_vote.cxx:159, request_prevote()]
2021-09-15T09:26:17.799_730+00:00 [3e12] [WARN] Got timeout value: 226	[handle_timeout.cxx:164, restart_election_timer()]
2021-09-15T09:26:18.027_053+00:00 [4950] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:266, handle_election_timeout()]
2021-09-15T09:26:18.027_099+00:00 [4950] [INFO] [PRIORITY] decay, target 1 -> 1, mine 1	[handle_priority.cxx:212, decay_target_priority()]
2021-09-15T09:26:18.027_198+00:00 [4950] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 1, state term 1, target p 1, my p 1, hb dead, pre-vote NOT done	[handle_timeout.cxx:284, handle_election_timeout()]
2021-09-15T09:26:18.027_341+00:00 [4950] [WARN] total 1 nodes (including this node) responded for pre-vote (term 1, live 0, dead 1), at least 2 nodes should respond. failure count 3	[handle_vote.cxx:98, request_prevote()]
2021-09-15T09:26:18.027_401+00:00 [4950] [INFO] [PRE-VOTE INIT] my id 2, my role follower, term 1, log idx 2, log term 1, priority (target 1 / mine 1)	[handle_vote.cxx:138, request_prevote()]
2021-09-15T09:26:18.027_432+00:00 [4950] [WARN] failed to send prevote request: peer 1 (127.0.1.1:10001) is busy	[handle_vote.cxx:159, request_prevote()]
2021-09-15T09:26:18.027_638+00:00 [4950] [WARN] Got timeout value: 289	[handle_timeout.cxx:164, restart_election_timer()]
2021-09-15T09:26:18.317_533+00:00 [63a1] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:266, handle_election_timeout()]
2021-09-15T09:26:18.317_554+00:00 [63a1] [INFO] [PRIORITY] decay, target 1 -> 1, mine 1	[handle_priority.cxx:212, decay_target_priority()]
2021-09-15T09:26:18.317_592+00:00 [63a1] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 1, state term 1, target p 1, my p 1, hb dead, pre-vote NOT done	[handle_timeout.cxx:284, handle_election_timeout()]
2021-09-15T09:26:18.317_615+00:00 [63a1] [WARN] total 1 nodes (including this node) responded for pre-vote (term 1, live 0, dead 1), at least 2 nodes should respond. failure count 4	[handle_vote.cxx:98, request_prevote()]
2021-09-15T09:26:18.317_631+00:00 [63a1] [INFO] [PRE-VOTE INIT] my id 2, my role follower, term 1, log idx 2, log term 1, priority (target 1 / mine 1)	[handle_vote.cxx:138, request_prevote()]
2021-09-15T09:26:18.317_642+00:00 [63a1] [WARN] failed to send prevote request: peer 1 (127.0.1.1:10001) is busy	[handle_vote.cxx:159, request_prevote()]
2021-09-15T09:26:18.317_659+00:00 [63a1] [WARN] Got timeout value: 362	[handle_timeout.cxx:164, restart_election_timer()]
2021-09-15T09:26:18.680_613+00:00 [fe5b] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:266, handle_election_timeout()]
2021-09-15T09:26:18.680_696+00:00 [fe5b] [INFO] [PRIORITY] decay, target 1 -> 1, mine 1	[handle_priority.cxx:212, decay_target_priority()]
2021-09-15T09:26:18.680_975+00:00 [fe5b] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 1, state term 1, target p 1, my p 1, hb dead, pre-vote NOT done	[handle_timeout.cxx:284, handle_election_timeout()]
2021-09-15T09:26:18.681_067+00:00 [fe5b] [WARN] total 1 nodes (including this node) responded for pre-vote (term 1, live 0, dead 1), at least 2 nodes should respond. failure count 5	[handle_vote.cxx:98, request_prevote()]
2021-09-15T09:26:18.681_130+00:00 [fe5b] [INFO] [PRE-VOTE INIT] my id 2, my role follower, term 1, log idx 2, log term 1, priority (target 1 / mine 1)	[handle_vote.cxx:138, request_prevote()]
2021-09-15T09:26:18.681_198+00:00 [fe5b] [WARN] failed to send prevote request: peer 1 (127.0.1.1:10001) is busy	[handle_vote.cxx:159, request_prevote()]
2021-09-15T09:26:18.681_270+00:00 [fe5b] [WARN] Got timeout value: 372	[handle_timeout.cxx:164, restart_election_timer()]
2021-09-15T09:26:19.054_826+00:00 [3e12] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:266, handle_election_timeout()]
2021-09-15T09:26:19.054_900+00:00 [3e12] [INFO] [PRIORITY] decay, target 1 -> 1, mine 1	[handle_priority.cxx:212, decay_target_priority()]
2021-09-15T09:26:19.055_043+00:00 [3e12] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 1, state term 1, target p 1, my p 1, hb dead, pre-vote NOT done	[handle_timeout.cxx:284, handle_election_timeout()]
2021-09-15T09:26:19.055_131+00:00 [3e12] [WARN] total 1 nodes (including this node) responded for pre-vote (term 1, live 0, dead 1), at least 2 nodes should respond. failure count 6	[handle_vote.cxx:98, request_prevote()]
2021-09-15T09:26:19.055_194+00:00 [3e12] [INFO] [PRE-VOTE INIT] my id 2, my role follower, term 1, log idx 2, log term 1, priority (target 1 / mine 1)	[handle_vote.cxx:138, request_prevote()]
2021-09-15T09:26:19.055_315+00:00 [3e12] [WARN] failed to send prevote request: peer 1 (127.0.1.1:10001) is busy	[handle_vote.cxx:159, request_prevote()]
2021-09-15T09:26:19.055_411+00:00 [3e12] [WARN] Got timeout value: 350	[handle_timeout.cxx:164, restart_election_timer()]
2021-09-15T09:26:19.406_887+00:00 [4950] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:266, handle_election_timeout()]
2021-09-15T09:26:19.406_929+00:00 [4950] [INFO] [PRIORITY] decay, target 1 -> 1, mine 1	[handle_priority.cxx:212, decay_target_priority()]
2021-09-15T09:26:19.407_006+00:00 [4950] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 1, state term 1, target p 1, my p 1, hb dead, pre-vote NOT done	[handle_timeout.cxx:284, handle_election_timeout()]
2021-09-15T09:26:19.407_053+00:00 [4950] [WARN] total 1 nodes (including this node) responded for pre-vote (term 1, live 0, dead 1), at least 2 nodes should respond. failure count 7	[handle_vote.cxx:98, request_prevote()]
2021-09-15T09:26:19.407_092+00:00 [4950] [INFO] [PRE-VOTE INIT] my id 2, my role follower, term 1, log idx 2, log term 1, priority (target 1 / mine 1)	[handle_vote.cxx:138, request_prevote()]
2021-09-15T09:26:19.407_115+00:00 [4950] [WARN] failed to send prevote request: peer 1 (127.0.1.1:10001) is busy	[handle_vote.cxx:159, request_prevote()]
2021-09-15T09:26:19.407_153+00:00 [4950] [WARN] Got timeout value: 346	[handle_timeout.cxx:164, restart_election_timer()]
