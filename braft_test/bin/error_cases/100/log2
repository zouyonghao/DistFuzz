I0406 10:15:49.420428 47621 /home/zyh/incubator-brpc/src/brpc/server.cpp:1046] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8303.
I0406 10:15:49.420598 47621 /home/zyh/incubator-brpc/src/brpc/server.cpp:1049] Check out http://virtual:8303 in web browser.
I0406 10:15:49.421879 47621 /home/zyh/braft/src/braft/log.cpp:674] Use crc32c as the checksum type of appending entries
W0406 10:15:49.421930 47621 /home/zyh/braft/src/braft/protobuf_file.cpp:91] open file failed, path: ./data2/log/log_meta: FILE_ERROR_NOT_FOUND
W0406 10:15:49.421940 47621 /home/zyh/braft/src/braft/log.cpp:685] ./data2/log is empty
I0406 10:15:49.422623 47621 /home/zyh/braft/src/braft/log.cpp:1136] log save_meta ./data2/log/log_meta first_log_index: 1 time: 666
W0406 10:15:49.422665 47621 /home/zyh/braft/src/braft/protobuf_file.cpp:91] open file failed, path: ./data2/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I0406 10:15:49.422687 47621 /home/zyh/braft/src/braft/raft_meta.cpp:521] Loaded single stable meta, path ./data2/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 10
W0406 10:15:49.422729 47621 /home/zyh/braft/src/braft/protobuf_file.cpp:91] open file failed, path: ./data2/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I0406 10:15:49.422736 47621 /home/zyh/braft/src/braft/raft_meta.cpp:521] Loaded single stable meta, path ./data2/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 7
I0406 10:15:49.422745 47621 /home/zyh/braft/src/braft/node.cpp:587] node Atomic:127.0.1.1:8303:0 init, term: 1 last_log_id: (index=0,term=0) conf: 127.0.1.1:8303:0,127.0.1.1:8304:0,127.0.1.1:8305:0 old_conf: 
I0406 10:15:49.422759 47621 /home/zyh/braft/src/braft/node.cpp:121] random_timeout function changed!
I0406 10:15:49.422764 47621 /home/zyh/braft/src/braft/node.cpp:129] node2 got timeout value: 5155
I0406 10:15:49.422995 47621 /home/zyh/braft/example/atomic/server.cpp:518] Atomic service is running on 0.0.0.0:8303
I0406 10:15:54.578136 47653 /home/zyh/braft/src/braft/node.cpp:121] random_timeout function changed!
I0406 10:15:54.578157 47653 /home/zyh/braft/src/braft/node.cpp:129] node2 got timeout value: 5001
I0406 10:16:02.460122 47776 /home/zyh/incubator-brpc/src/brpc/server.cpp:1046] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8303.
I0406 10:16:02.460418 47776 /home/zyh/incubator-brpc/src/brpc/server.cpp:1049] Check out http://virtual:8303 in web browser.
I0406 10:16:02.461757 47776 /home/zyh/braft/src/braft/log.cpp:674] Use crc32c as the checksum type of appending entries
I0406 10:16:02.461844 47776 /home/zyh/braft/src/braft/log.cpp:1158] log load_meta ./data2/log/log_meta first_log_index: 1 time: 73
W0406 10:16:02.461873 47776 /home/zyh/braft/src/braft/protobuf_file.cpp:91] open file failed, path: ./data2/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I0406 10:16:02.461924 47776 /home/zyh/braft/src/braft/raft_meta.cpp:521] Loaded single stable meta, path ./data2/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 38
W0406 10:16:02.461969 47776 /home/zyh/braft/src/braft/protobuf_file.cpp:91] open file failed, path: ./data2/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I0406 10:16:02.461975 47776 /home/zyh/braft/src/braft/raft_meta.cpp:521] Loaded single stable meta, path ./data2/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 6
I0406 10:16:02.461984 47776 /home/zyh/braft/src/braft/node.cpp:587] node Atomic:127.0.1.1:8303:0 init, term: 1 last_log_id: (index=0,term=0) conf: 127.0.1.1:8303:0,127.0.1.1:8304:0,127.0.1.1:8305:0 old_conf: 
I0406 10:16:02.461999 47776 /home/zyh/braft/src/braft/node.cpp:121] random_timeout function changed!
I0406 10:16:02.462004 47776 /home/zyh/braft/src/braft/node.cpp:129] node2 got timeout value: 5155
I0406 10:16:02.462201 47776 /home/zyh/braft/example/atomic/server.cpp:518] Atomic service is running on 0.0.0.0:8303
I0406 10:16:03.655012 47780 /home/zyh/braft/src/braft/raft_meta.cpp:546] Saved single stable meta, path ./data2/raft_meta term 2 votedfor 0.0.0.0:0:0 time: 910
I0406 10:16:03.655498 47786 /home/zyh/braft/example/atomic/server.cpp:321] Node start following { leader_id=127.0.1.1:8305:0, term=2, status=Raft node receives message from new leader with higher term.}
I0406 10:16:03.717397 47784 /home/zyh/braft/src/braft/log.cpp:108] Created new segment `./data2/log/log_inprogress_00000000000000000001' with fd=10
I0406 10:16:03.717529 47784 /home/zyh/braft/example/atomic/server.cpp:315] Configuration of this group is 127.0.1.1:8303:0,127.0.1.1:8304:0,127.0.1.1:8305:0
I0406 10:16:06.947520 47780 /home/zyh/braft/src/braft/node.cpp:922] node Atomic:127.0.1.1:8303:0 starts to do snapshot
I0406 10:16:06.951925 47780 /home/zyh/braft/src/braft/snapshot.cpp:638] Deleting ./data2/snapshot/snapshot_00000000000000000001
I0406 10:16:06.952042 47780 /home/zyh/braft/src/braft/snapshot.cpp:644] Renaming ./data2/snapshot/temp to ./data2/snapshot/snapshot_00000000000000000001
I0406 10:16:06.952168 47780 /home/zyh/braft/src/braft/snapshot_executor.cpp:234] node Atomic:127.0.1.1:8303:0 snapshot_save_done, last_included_index=1 last_included_term=2
W0406 10:16:07.238388 47783 /home/zyh/braft/src/braft/node.cpp:2317] node Atomic:127.0.1.1:8303:0 reject term_unmatched AppendEntries from 127.0.1.1:8305:0 in term 2 prev_log_index 3 prev_log_term 2 local_prev_log_term 0 last_log_index 1 entries_size 0 from_append_entries_cache: 0
I0406 10:16:07.617960 47782 /home/zyh/braft/src/braft/node.cpp:121] random_timeout function changed!
I0406 10:16:07.618117 47782 /home/zyh/braft/src/braft/node.cpp:129] node2 got timeout value: 5001
W0406 10:16:07.792142 47786 /home/zyh/braft/src/braft/node.cpp:2317] node Atomic:127.0.1.1:8303:0 reject term_unmatched AppendEntries from 127.0.1.1:8305:0 in term 2 prev_log_index 3 prev_log_term 2 local_prev_log_term 0 last_log_index 1 entries_size 0 from_append_entries_cache: 0
W0406 10:16:08.303690 47784 /home/zyh/braft/src/braft/node.cpp:2317] node Atomic:127.0.1.1:8303:0 reject term_unmatched AppendEntries from 127.0.1.1:8305:0 in term 2 prev_log_index 3 prev_log_term 2 local_prev_log_term 0 last_log_index 1 entries_size 0 from_append_entries_cache: 0
I0406 10:16:12.619979 47780 /home/zyh/braft/src/braft/node.cpp:121] random_timeout function changed!
I0406 10:16:12.620144 47780 /home/zyh/braft/src/braft/node.cpp:129] node2 got timeout value: 5206
I0406 10:16:17.826940 47782 /home/zyh/braft/src/braft/node.cpp:1495] node Atomic:127.0.1.1:8303:0 term 2 start pre_vote
I0406 10:16:17.827189 47780 /home/zyh/braft/example/atomic/server.cpp:318] Node stops following { leader_id=127.0.1.1:8305:0, term=2, status=Lost connection from leader 127.0.1.1:8305:0}
I0406 10:16:17.828077 47782 /home/zyh/braft/src/braft/node.cpp:121] random_timeout function changed!
I0406 10:16:17.828140 47782 /home/zyh/braft/src/braft/node.cpp:129] node2 got timeout value: 5123
W0406 10:16:17.829497 47783 /home/zyh/incubator-brpc/src/brpc/input_messenger.cpp:214] Fail to read from Socket{id=256 fd=11 addr=127.0.1.1:8304:38926} (0x7fad5c0c7a80): Connection reset by peer
W0406 10:16:17.829768 47783 /home/zyh/braft/src/braft/node.cpp:1475] node Atomic:127.0.1.1:8303:0 request PreVote from 127.0.1.1:8304:0 error: [E104]Fail to read from Socket{id=256 fd=11 addr=127.0.1.1:8304:38926} (0x0x7fad5c0c7a80): Connection reset by peer
I0406 10:16:17.865410 47786 /home/zyh/braft/src/braft/node.cpp:1446] node Atomic:127.0.1.1:8303:0 received PreVoteResponse from 127.0.1.1:8305:0 term 2 granted 0
W0406 10:16:17.865701 47784 /home/zyh/braft/src/braft/node.cpp:2317] node Atomic:127.0.1.1:8303:0 reject term_unmatched AppendEntries from 127.0.1.1:8305:0 in term 2 prev_log_index 3 prev_log_term 2 local_prev_log_term 0 last_log_index 1 entries_size 0 from_append_entries_cache: 0
I0406 10:16:17.865952 47786 /home/zyh/braft/example/atomic/server.cpp:321] Node start following { leader_id=127.0.1.1:8305:0, term=2, status=Follower receives message from new leader with the same term.}
I0406 10:16:22.951840 47780 /home/zyh/braft/src/braft/node.cpp:121] random_timeout function changed!
I0406 10:16:22.952013 47780 /home/zyh/braft/src/braft/node.cpp:129] node2 got timeout value: 5136
I0406 10:16:28.088918 47780 /home/zyh/braft/src/braft/node.cpp:1495] node Atomic:127.0.1.1:8303:0 term 2 start pre_vote
I0406 10:16:28.089038 47782 /home/zyh/braft/example/atomic/server.cpp:318] Node stops following { leader_id=127.0.1.1:8305:0, term=2, status=Lost connection from leader 127.0.1.1:8305:0}
I0406 10:16:28.089970 47780 /home/zyh/braft/src/braft/node.cpp:121] random_timeout function changed!
I0406 10:16:28.091321 47780 /home/zyh/braft/src/braft/node.cpp:129] node2 got timeout value: 5000
W0406 10:16:28.091380 47783 /home/zyh/incubator-brpc/src/brpc/input_messenger.cpp:214] Fail to read from Socket{id=132 fd=13 addr=127.0.1.1:8305:56406} (0x7fad6801b6e0): Connection reset by peer
W0406 10:16:28.091671 47783 /home/zyh/braft/src/braft/node.cpp:1475] node Atomic:127.0.1.1:8303:0 request PreVote from 127.0.1.1:8305:0 error: [E104]Fail to read from Socket{id=132 fd=13 addr=127.0.1.1:8305:56406} (0x0x7fad6801b6e0): Connection reset by peer
I0406 10:16:28.697509 48063 /home/zyh/incubator-brpc/src/brpc/server.cpp:1046] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8303.
I0406 10:16:28.698801 48063 /home/zyh/incubator-brpc/src/brpc/server.cpp:1049] Check out http://virtual:8303 in web browser.
I0406 10:16:28.705622 48063 /home/zyh/braft/src/braft/log.cpp:674] Use crc32c as the checksum type of appending entries
I0406 10:16:28.706162 48063 /home/zyh/braft/src/braft/log.cpp:1158] log load_meta ./data2/log/log_meta first_log_index: 1 time: 398
I0406 10:16:28.706308 48063 /home/zyh/braft/src/braft/log.cpp:1098] load open segment, path: ./data2/log first_index: 1
I0406 10:16:28.706527 48063 /home/zyh/braft/src/braft/raft_meta.cpp:521] Loaded single stable meta, path ./data2/raft_meta term 2 votedfor 0.0.0.0:0:0 time: 27
I0406 10:16:28.707344 48071 /home/zyh/braft/example/atomic/server.cpp:315] Configuration of this group is 127.0.1.1:8303:0,127.0.1.1:8304:0,127.0.1.1:8305:0
I0406 10:16:28.707420 48071 /home/zyh/braft/src/braft/snapshot_executor.cpp:264] node Atomic:127.0.1.1:8303:0 snapshot_load_done, last_included_index: 1 last_included_term: 2 peers: "127.0.1.1:8303:0" peers: "127.0.1.1:8304:0" peers: "127.0.1.1:8305:0"
I0406 10:16:28.707552 48063 /home/zyh/braft/src/braft/raft_meta.cpp:521] Loaded single stable meta, path ./data2/raft_meta term 2 votedfor 0.0.0.0:0:0 time: 19
I0406 10:16:28.707578 48063 /home/zyh/braft/src/braft/node.cpp:587] node Atomic:127.0.1.1:8303:0 init, term: 2 last_log_id: (index=1,term=2) conf: 127.0.1.1:8303:0,127.0.1.1:8304:0,127.0.1.1:8305:0 old_conf: 
I0406 10:16:28.707605 48063 /home/zyh/braft/src/braft/node.cpp:121] random_timeout function changed!
I0406 10:16:28.707618 48063 /home/zyh/braft/src/braft/node.cpp:129] node2 got timeout value: 5155
I0406 10:16:28.708155 48063 /home/zyh/braft/example/atomic/server.cpp:518] Atomic service is running on 0.0.0.0:8303
I0406 10:16:31.824193 48070 /home/zyh/braft/src/braft/node.cpp:922] node Atomic:127.0.1.1:8303:0 starts to do snapshot
I0406 10:16:31.824504 48070 /home/zyh/braft/src/braft/snapshot_executor.cpp:154] node Atomic:127.0.1.1:8303:0 the gap between fsm applied index 1 and last_snapshot_index 1 is less than 1, will clear bufferred logs and return success
I0406 10:16:31.827407 48070 /home/zyh/braft/src/braft/log.cpp:1136] log save_meta ./data2/log/log_meta first_log_index: 2 time: 2797
I0406 10:16:31.827559 48070 /home/zyh/braft/src/braft/log.cpp:595] Unlinked segment `./data2/log/log_inprogress_00000000000000000001'
W0406 10:16:33.090094 47782 /home/zyh/braft/src/braft/node.cpp:1475] node Atomic:127.0.1.1:8303:0 request PreVote from 127.0.1.1:8304:0 error: [E1008]Reached timeout=5000ms @127.0.1.1:8304
I0406 10:16:33.092205 47780 /home/zyh/braft/src/braft/node.cpp:1495] node Atomic:127.0.1.1:8303:0 term 2 start pre_vote
I0406 10:16:33.092896 47780 /home/zyh/braft/src/braft/node.cpp:121] random_timeout function changed!
I0406 10:16:33.092955 47780 /home/zyh/braft/src/braft/node.cpp:129] node2 got timeout value: 5085
W0406 10:16:33.094268 47783 /home/zyh/incubator-brpc/src/brpc/input_messenger.cpp:214] Fail to read from Socket{id=136 fd=13 addr=127.0.1.1:8305:56416} (0x7fad6801bee0): Connection reset by peer
W0406 10:16:33.094582 47783 /home/zyh/braft/src/braft/node.cpp:1475] node Atomic:127.0.1.1:8303:0 request PreVote from 127.0.1.1:8305:0 error: [E104]Fail to read from Socket{id=136 fd=13 addr=127.0.1.1:8305:56416} (0x0x7fad6801bee0): Connection reset by peer
I0406 10:16:33.863541 48070 /home/zyh/braft/src/braft/node.cpp:121] random_timeout function changed!
I0406 10:16:33.863645 48070 /home/zyh/braft/src/braft/node.cpp:129] node2 got timeout value: 5001
I0406 10:16:36.948332 47780 /home/zyh/braft/src/braft/node.cpp:922] node Atomic:127.0.1.1:8303:0 starts to do snapshot
I0406 10:16:36.948387 47780 /home/zyh/braft/src/braft/snapshot_executor.cpp:154] node Atomic:127.0.1.1:8303:0 the gap between fsm applied index 1 and last_snapshot_index 1 is less than 1, will clear bufferred logs and return success
I0406 10:16:36.958022 47780 /home/zyh/braft/src/braft/log.cpp:1136] log save_meta ./data2/log/log_meta first_log_index: 2 time: 9609
E0406 10:16:36.958047 47780 /home/zyh/braft/src/braft/log.cpp:583] Fail to rename ./data2/log/log_inprogress_00000000000000000001 to ./data2/log/log_inprogress_00000000000000000001.tmp: No such file or directory
W0406 10:16:38.092959 47780 /home/zyh/braft/src/braft/node.cpp:1475] node Atomic:127.0.1.1:8303:0 request PreVote from 127.0.1.1:8304:0 error: [E1008]Reached timeout=5000ms @127.0.1.1:8304
I0406 10:16:38.179113 47782 /home/zyh/braft/src/braft/node.cpp:1495] node Atomic:127.0.1.1:8303:0 term 2 start pre_vote
I0406 10:16:38.179913 47782 /home/zyh/braft/src/braft/node.cpp:121] random_timeout function changed!
I0406 10:16:38.179972 47782 /home/zyh/braft/src/braft/node.cpp:129] node2 got timeout value: 5090
W0406 10:16:38.180254 47784 /home/zyh/incubator-brpc/src/brpc/socket.cpp:1615] Fail to keep-write into Socket{id=8589934722 fd=10 addr=127.0.1.1:8304:38960} (0x7fad6801b2e0): Connection reset by peer
W0406 10:16:38.180604 47782 /home/zyh/incubator-brpc/src/brpc/socket.cpp:1615] Fail to keep-write into Socket{id=261 fd=12 addr=127.0.1.1:8305:56422} (0x7fad5c0c8480): Connection reset by peer
W0406 10:16:38.180723 47784 /home/zyh/braft/src/braft/node.cpp:1475] node Atomic:127.0.1.1:8303:0 request PreVote from 127.0.1.1:8304:0 error: [E104]Fail to keep-write into Socket{id=8589934722 fd=10 addr=127.0.1.1:8304:38960} (0x0x7fad6801b2e0): Connection reset by peer
W0406 10:16:38.180852 47786 /home/zyh/braft/src/braft/node.cpp:1475] node Atomic:127.0.1.1:8303:0 request PreVote from 127.0.1.1:8305:0 error: [E1014]Got EOF of Socket{id=261 fd=12 addr=127.0.1.1:8305:56422} (0x0x7fad5c0c8480)
