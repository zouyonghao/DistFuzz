Reading random file (null)
spliting files...
Reading random file random.txt
normal_operator_size = 3
normal operator run count = 2
critical_operator_size = 3
critical_operator run count = 2
[1;31mrunning test case 267[0m
start nodes....
node 0 start command is : /home/zyh/etcd-src/bin/etcd --name node0 --data-dir ./data0 --heartbeat-interval 100 --election-timeout 500 --initial-cluster-token etcd-cluster --initial-cluster-state new --initial-advertise-peer-urls http://127.0.1.1:2380 --listen-peer-urls http://127.0.1.1:2380 --listen-client-urls http://127.0.1.1:2480 --advertise-client-urls http://127.0.1.1:2480 --initial-cluster node0=http://127.0.1.1:2380,node1=http://127.0.1.1:2381,node2=http://127.0.1.1:2382,node3=http://127.0.1.1:2383,node4=http://127.0.1.1:2384
node 1 start command is : /home/zyh/etcd-src/bin/etcd --name node1 --data-dir ./data1 --heartbeat-interval 100 --election-timeout 500 --initial-cluster-token etcd-cluster --initial-cluster-state new --initial-advertise-peer-urls http://127.0.1.1:2381 --listen-peer-urls http://127.0.1.1:2381 --listen-client-urls http://127.0.1.1:2481 --advertise-client-urls http://127.0.1.1:2481 --initial-cluster node0=http://127.0.1.1:2380,node1=http://127.0.1.1:2381,node2=http://127.0.1.1:2382,node3=http://127.0.1.1:2383,node4=http://127.0.1.1:2384
node 2 start command is : /home/zyh/etcd-src/bin/etcd --name node2 --data-dir ./data2 --heartbeat-interval 100 --election-timeout 500 --initial-cluster-token etcd-cluster --initial-cluster-state new --initial-advertise-peer-urls http://127.0.1.1:2382 --listen-peer-urls http://127.0.1.1:2382 --listen-client-urls http://127.0.1.1:2482 --advertise-client-urls http://127.0.1.1:2482 --initial-cluster node0=http://127.0.1.1:2380,node1=http://127.0.1.1:2381,node2=http://127.0.1.1:2382,node3=http://127.0.1.1:2383,node4=http://127.0.1.1:2384
node 3 start command is : /home/zyh/etcd-src/bin/etcd --name node3 --data-dir ./data3 --heartbeat-interval 100 --election-timeout 500 --initial-cluster-token etcd-cluster --initial-cluster-state new --initial-advertise-peer-urls http://127.0.1.1:2383 --listen-peer-urls http://127.0.1.1:2383 --listen-client-urls http://127.0.1.1:2483 --advertise-client-urls http://127.0.1.1:2483 --initial-cluster node0=http://127.0.1.1:2380,node1=http://127.0.1.1:2381,node2=http://127.0.1.1:2382,node3=http://127.0.1.1:2383,node4=http://127.0.1.1:2384
node 4 start command is : /home/zyh/etcd-src/bin/etcd --name node4 --data-dir ./data4 --heartbeat-interval 100 --election-timeout 500 --initial-cluster-token etcd-cluster --initial-cluster-state new --initial-advertise-peer-urls http://127.0.1.1:2384 --listen-peer-urls http://127.0.1.1:2384 --listen-client-urls http://127.0.1.1:2484 --advertise-client-urls http://127.0.1.1:2484 --initial-cluster node0=http://127.0.1.1:2380,node1=http://127.0.1.1:2381,node2=http://127.0.1.1:2382,node3=http://127.0.1.1:2383,node4=http://127.0.1.1:2384
Run init operator
Run init failed!
[33mYou are running in a fuzzing environment[0m
running operator EtcdGet
timeout 3 /home/zyh/etcd-src/bin/etcdctl --no-sync --timeout 2s --endpoint http://127.0.1.1:2480,http://127.0.1.1:2481,http://127.0.1.1:2482,http://127.0.1.1:2483,http://127.0.1.1:2484 get a
Error:  100: Key not found (/a) [5]
running operator EtcdGet
timeout 3 /home/zyh/etcd-src/bin/etcdctl --no-sync --timeout 2s --endpoint http://127.0.1.1:2480,http://127.0.1.1:2481,http://127.0.1.1:2482,http://127.0.1.1:2483,http://127.0.1.1:2484 get a
Error:  100: Key not found (/a) [5]
running operator RandomStart
all nodes are alive.
running operator EtcdSet
timeout 3 /home/zyh/etcd-src/bin/etcdctl --no-sync --timeout 2s --endpoint http://127.0.1.1:2480,http://127.0.1.1:2481,http://127.0.1.1:2482,http://127.0.1.1:2483,http://127.0.1.1:2484 set a 3666503840
client operator got timeout
running operator EtcdGet
timeout 3 /home/zyh/etcd-src/bin/etcdctl --no-sync --timeout 2s --endpoint http://127.0.1.1:2480,http://127.0.1.1:2481,http://127.0.1.1:2482,http://127.0.1.1:2483,http://127.0.1.1:2484 get a
client operator got timeout
running operator RandomStart
all nodes are alive.
running operator EtcdSet
timeout 3 /home/zyh/etcd-src/bin/etcdctl --no-sync --timeout 2s --endpoint http://127.0.1.1:2480,http://127.0.1.1:2481,http://127.0.1.1:2482,http://127.0.1.1:2483,http://127.0.1.1:2484 set a 2036389746
client operator got timeout
running operator EtcdSet
timeout 3 /home/zyh/etcd-src/bin/etcdctl --no-sync --timeout 2s --endpoint http://127.0.1.1:2480,http://127.0.1.1:2481,http://127.0.1.1:2482,http://127.0.1.1:2483,http://127.0.1.1:2484 set a 3745610869
client operator got timeout
The remaining alive node count is 5
Fuzzing is stopped, now we wait for 3 seconds and then run some normal operators to see whether it works as usual.
running operator EtcdGet
timeout 3 /home/zyh/etcd-src/bin/etcdctl --no-sync --timeout 2s --endpoint http://127.0.1.1:2480,http://127.0.1.1:2481,http://127.0.1.1:2482,http://127.0.1.1:2483,http://127.0.1.1:2484 get a
3745610869
running operator EtcdGet
timeout 3 /home/zyh/etcd-src/bin/etcdctl --no-sync --timeout 2s --endpoint http://127.0.1.1:2480,http://127.0.1.1:2481,http://127.0.1.1:2482,http://127.0.1.1:2483,http://127.0.1.1:2484 get a
3745610869
bash: check_before_stop.sh: No such file or directory
stopping...
backup test cases
/home/zyh/distributed-system-test/etcd_test-3517/bin
