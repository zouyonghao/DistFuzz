[33m[FUZZ PRINT]Get Environment Variable 32857[0m
[33mYou are running in a fuzzing environment[0m
get file path /tmp/.join2113761238
inject fail to process 371857 syscall 1
Error: write join: write /tmp/.join2113761238: bad address
Usage:
  dqlite-demo [flags]

Flags:
  -a, --api string     address used to expose the demo API
  -c, --cert string    public TLS cert
  -d, --db string      address used for internal database replication
  -D, --dir string     data directory (default "/tmp/dqlite-demo")
      --disk           Warning: Unstable, Experimental. Set this flag to enable dqlite's disk-mode.
  -h, --help           help for dqlite-demo
  -j, --join strings   database addresses of existing nodes
  -k, --key string     private TLS key
  -v, --verbose        verbose logging

6468359894354 conn__start:290 conn start
LIBDQLITE 1719786468360041529 gateway__init:18 gateway init
LIBDQLITE 1719786468361538020 gateway__handle:1280 gateway handle
LIBDQLITE 1719786468361628482 handle_describe:1248 handle describe
LIBDQLITE 1719786468361808774 gateway__resume:1327 gateway resume - finished
LIBDQLITE 1719786468362182848 read_message_cb:186 read error -4095
LIBDQLITE 1719786468362260442 conn__stop:330 conn stop
LIBDQLITE 1719786468362312191 gateway__close:80 gateway close
LIBDQLITE 1719786468362894778 conn__start:290 conn start
LIBDQLITE 1719786468362973906 gateway__init:18 gateway init
LIBDQLITE 1719786468364189362 gateway__handle:1280 gateway handle
LIBDQLITE 1719786468364296198 handle_leader:201 handle leader
LIBDQLITE 1719786468364518893 gateway__resume:1327 gateway resume - finished
LIBDQLITE 1719786468365024664 read_message_cb:186 read error -4095
LIBDQLITE 1719786468365082998 conn__stop:330 conn stop
LIBDQLITE 1719786468365131578 gateway__close:80 gateway close
strace: fuzzing is stopped, will use kernel_func directly.
LIBDQLITE 1719786469261576217 conn__start:290 conn start
LIBDQLITE 1719786469261720408 gateway__init:18 gateway init
LIBDQLITE 1719786469263529881 gateway__handle:1280 gateway handle
LIBDQLITE 1719786469263587514 handle_describe:1248 handle describe
LIBDQLITE 1719786469263714062 gateway__resume:1327 gateway resume - finished
LIBDQLITE 1719786469264309974 read_message_cb:186 read error -4095
LIBDQLITE 1719786469264362231 conn__stop:330 conn stop
LIBDQLITE 1719786469264414207 gateway__close:80 gateway close
LIBDQLITE 1719786470341758642 conn__start:290 conn start
LIBDQLITE 1719786470341912689 gateway__init:18 gateway init
LIBDQLITE 1719786470344337334 raft_connect:111 raft_connect
LIBDQLITE 1719786470344457681 raftProxyAccept:272 raft proxy accept
LIBRAFT   1719786470346849901 src/recv_append_entries.c:36 self:4397540283727048477 from:3297041220608546238@127.0.0.1:4000 leader_commit:6 n_entries:3 prev_log_index:3 prev_log_term:1, term:1
LIBRAFT   1719786470346977498 src/recv.c:122 remote term 1 is higher than 0 -> bump local term
LIBRAFT   1719786470477600166 src/replication.c:961 no entry at index 3 -> reject
LIBDQLITE 1719786470477789729 impl_connect:169 impl connect id:3297041220608546238 address:127.0.0.1:4000
LIBRAFT   1719786470482103135 src/uv_send.c:213 no connection available -> enqueue message
LIBDQLITE 1719786470482163427 connect_work_cb:63 connect work cb
LIBDQLITE 1719786470484926006 connect_after_work_cb:139 connect after work cb status 0
LIBRAFT   1719786470485269648 src/uv_send.c:279 connect attempt completed -> status unknown error
LIBRAFT   1719786470485336486 src/uv_send.c:237 send pending messages
LIBRAFT   1719786470485393312 src/uv_send.c:218 connection available -> write message
LIBRAFT   1719786471181181419 src/recv_append_entries.c:36 self:4397540283727048477 from:3297041220608546238@127.0.0.1:4000 leader_commit:6 n_entries:6 prev_log_index:0 prev_log_term:0, term:1
LIBRAFT   1719786471181613127 src/uv_prepare.c:164 create open segment open-1
LIBRAFT   1719786471262301336 src/uv_prepare.c:230 completed creation of open-1
LIBRAFT   1719786471263178813 src/uv_prepare.c:164 create open segment open-2
LIBRAFT   1719786471321971085 src/replication.c:847 I/O completed on follower: status 0
LIBRAFT   1719786471322201223 src/configuration.c:342 uncommitted config change at index:1
LIBRAFT   1719786471322321993 src/configuration.c:343 === CONFIG START ===
LIBRAFT   1719786471322437368 src/configuration.c:348 id:3297041220608546238 address:127.0.0.1:4000 role:1
LIBRAFT   1719786471322565348 src/configuration.c:350 === CONFIG END ===
LIBRAFT   1719786471322691425 src/configuration.c:342 uncommitted config change at index:3
LIBRAFT   1719786471322796419 src/configuration.c:343 === CONFIG START ===
LIBRAFT   1719786471322902150 src/configuration.c:348 id:3297041220608546238 address:127.0.0.1:4000 role:1
LIBRAFT   1719786471323004728 src/configuration.c:348 id:4397540283727048477 address:127.0.0.1:4002 role:2
LIBRAFT   1719786471323106602 src/configuration.c:350 === CONFIG END ===
LIBRAFT   1719786471323250296 src/configuration.c:342 uncommitted config change at index:5
LIBRAFT   1719786471323357457 src/configuration.c:343 === CONFIG START ===
LIBRAFT   1719786471323463007 src/configuration.c:348 id:3297041220608546238 address:127.0.0.1:4000 role:1
LIBRAFT   1719786471323565788 src/configuration.c:348 id:4397540283727048477 address:127.0.0.1:4002 role:2
LIBRAFT   1719786471323671083 src/configuration.c:348 id:6253567333389465791 address:127.0.0.1:4004 role:2
LIBRAFT   1719786471323772094 src/configuration.c:350 === CONFIG END ===
LIBRAFT   1719786471323887951 src/configuration.c:342 uncommitted config change at index:6
LIBRAFT   1719786471323989872 src/configuration.c:343 === CONFIG START ===
LIBRAFT   1719786471324095886 src/configuration.c:348 id:3297041220608546238 address:127.0.0.1:4000 role:1
LIBRAFT   1719786471324199341 src/configuration.c:348 id:4397540283727048477 address:127.0.0.1:4002 role:2
LIBRAFT   1719786471324302212 src/configuration.c:348 id:6253567333389465791 address:127.0.0.1:4004 role:1
LIBRAFT   1719786471324400839 src/configuration.c:350 === CONFIG END ===
LIBDQLITE 1719786471324517843 fsm__apply:313 fsm apply
LIBDQLITE 1719786471324659310 apply_frames:186 fsm apply frames
LIBDQLITE 1719786471324794770 db__init:21 db init demo
LIBDQLITE 1719786471324936844 open_follower_conn:90 open follower conn: demo page_size:4096
LIBDQLITE 1719786471328137462 VfsApply:2325 vfs apply filename demo n 3
LIBDQLITE 1719786471328452941 maybeCheckpoint:88 maybe checkpoint
LIBDQLITE 1719786471328573562 open_follower_conn:90 open follower conn: demo page_size:4096
LIBDQLITE 1719786471329909591 maybeCheckpoint:130 wal size (3) < threshold (1000)
LIBDQLITE 1719786471330140726 fsm__apply:313 fsm apply
LIBDQLITE 1719786471330264440 apply_frames:186 fsm apply frames
LIBDQLITE 1719786471330417023 VfsApply:2325 vfs apply filename demo n 2
LIBDQLITE 1719786471330576886 maybeCheckpoint:88 maybe checkpoint
LIBDQLITE 1719786471330691910 open_follower_conn:90 open follower conn: demo page_size:4096
LIBDQLITE 1719786471331756116 maybeCheckpoint:130 wal size (5) < threshold (1000)
LIBRAFT   1719786471331971455 src/replication.c:1421 configuration at index:6 is committed.
LIBRAFT   1719786471332157124 src/uv_send.c:218 connection available -> write message
LIBRAFT   1719786471334626035 src/recv_append_entries.c:36 self:4397540283727048477 from:3297041220608546238@127.0.0.1:4000 leader_commit:6 n_entries:1 prev_log_index:6 prev_log_term:1, term:1
LIBRAFT   1719786471379847287 src/replication.c:847 I/O completed on follower: status 0
LIBRAFT   1719786471380020840 src/configuration.c:342 uncommitted config change at index:7
LIBRAFT   1719786471380136608 src/configuration.c:343 === CONFIG START ===
LIBRAFT   1719786471380249598 src/configuration.c:348 id:3297041220608546238 address:127.0.0.1:4000 role:1
LIBRAFT   1719786471380355273 src/configuration.c:348 id:4397540283727048477 address:127.0.0.1:4002 role:1
LIBRAFT   1719786471380459530 src/configuration.c:348 id:6253567333389465791 address:127.0.0.1:4004 role:1
LIBRAFT   1719786471380559581 src/configuration.c:350 === CONFIG END ===
LIBRAFT   1719786471380674599 src/uv_send.c:218 connection available -> write message
LIBRAFT   1719786471380945636 src/uv_prepare.c:230 completed creation of open-2
LIBRAFT   1719786471381101532 src/uv_prepare.c:164 create open segment open-3
LIBDQLITE 1719786471384959142 conn__start:290 conn start
LIBDQLITE 1719786471385108442 gateway__init:18 gateway init
LIBDQLITE 1719786471388322379 gateway__handle:1280 gateway handle
LIBDQLITE 1719786471388447310 handle_leader:201 handle leader
LIBDQLITE 1719786471388569110 handle_leader:216 handle leader - dispatch to 4397540283727048477
LIBDQLITE 1719786471388838207 gateway__resume:1327 gateway resume - finished
LIBDQLITE 1719786471389878514 read_message_cb:186 read error -4095
LIBDQLITE 1719786471390028130 conn__stop:330 conn stop
LIBDQLITE 1719786471390145548 gateway__close:80 gateway close
LIBRAFT   1719786471413174373 src/uv_prepare.c:230 completed creation of open-3
LIBDQLITE 1719786471703380615 conn__start:290 conn start
LIBDQLITE 1719786471703411060 gateway__init:18 gateway init
LIBDQLITE 1719786471703759994 gateway__handle:1280 gateway handle
LIBDQLITE 1719786471703774759 handle_leader:201 handle leader
LIBDQLITE 1719786471703785038 handle_leader:216 handle leader - dispatch to 4397540283727048477
LIBDQLITE 1719786471703825825 gateway__resume:1327 gateway resume - finished
LIBDQLITE 1719786471703878512 read_message_cb:186 read error -4095
LIBDQLITE 1719786471703887987 conn__stop:330 conn stop
LIBDQLITE 1719786471703897454 gateway__close:80 gateway close
LIBDQLITE 1719786471704247913 conn__start:290 conn start
LIBDQLITE 1719786471704269887 gateway__init:18 gateway init
LIBDQLITE 1719786471704327501 conn__start:290 conn start
LIBDQLITE 1719786471704339145 gateway__init:18 gateway init
LIBDQLITE 1719786471704383555 gateway__handle:1280 gateway handle
LIBDQLITE 1719786471704393953 handle_leader:201 handle leader
LIBDQLITE 1719786471704402645 handle_leader:216 handle leader - dispatch to 4397540283727048477
LIBDQLITE 1719786471704441080 gateway__resume:1327 gateway resume - finished
LIBDQLITE 1719786471704486110 gateway__handle:1280 gateway handle
LIBDQLITE 1719786471704495500 handle_describe:1248 handle describe
LIBDQLITE 1719786471704522874 gateway__resume:1327 gateway resume - finished
LIBDQLITE 1719786471704541555 read_message_cb:186 read error -4095
LIBDQLITE 1719786471704548390 conn__stop:330 conn stop
LIBDQLITE 1719786471704554615 gateway__close:80 gateway close
LIBDQLITE 1719786471704604852 read_message_cb:186 read error -4095
LIBDQLITE 1719786471704614995 conn__stop:330 conn stop
LIBDQLITE 1719786471704621400 gateway__close:80 gateway close
LIBDQLITE 1719786471705366490 conn__start:290 conn start
LIBDQLITE 1719786471705378291 gateway__init:18 gateway init
LIBDQLITE 1719786471705409507 conn__start:290 conn start
LIBDQLITE 1719786471705419930 gateway__init:18 gateway init
LIBDQLITE 1719786471705439796 conn__start:290 conn start
LIBDQLITE 1719786471705446513 gateway__init:18 gateway init
LIBDQLITE 1719786471705517008 gateway__handle:1280 gateway handle
LIBDQLITE 1719786471705527629 handle_describe:1248 handle describe
LIBDQLITE 1719786471705561991 gateway__handle:1280 gateway handle
LIBDQLITE 1719786471705571430 handle_describe:1248 handle describe
LIBDQLITE 1719786471705607588 gateway__resume:1327 gateway resume - finished
LIBDQLITE 1719786471705629148 gateway__resume:1327 gateway resume - finished
LIBDQLITE 1719786471705653472 gateway__handle:1280 gateway handle
LIBDQLITE 1719786471705660882 handle_describe:1248 handle describe
LIBDQLITE 1719786471705685247 read_message_cb:186 read error -4095
LIBDQLITE 1719786471705692843 conn__stop:330 conn stop
LIBDQLITE 1719786471705698151 gateway__close:80 gateway close
LIBDQLITE 1719786471705730381 gateway__resume:1327 gateway resume - finished
LIBDQLITE 1719786471705747264 read_message_cb:186 read error -4095
LIBDQLITE 1719786471705753728 conn__stop:330 conn stop
LIBDQLITE 1719786471705759281 gateway__close:80 gateway close
LIBDQLITE 1719786471705789819 read_message_cb:186 read error -4095
LIBDQLITE 1719786471705797822 conn__stop:330 conn stop
LIBDQLITE 1719786471705802923 gateway__close:80 gateway close
LIBDQLITE 1719786471706000562 dqlite_node_stop:753 dqlite node stop
LIBRAFT   1719786471706057471 src/convert.c:38 clear follower state
LIBRAFT   1719786471706088714 src/convert.c:23 old_state:1 new_state:0
LIBRAFT   1719786471706131473 src/uv_append.c:827 uv barrier close
LIBDQLITE 1719786471706311820 impl_close:208 impl close
LIBRAFT   1719786471706323941 src/uv.c:159 uv maybe fire close cb
LIBRAFT   1719786471706330325 src/uv.c:159 uv maybe fire close cb
LIBRAFT   1719786471706337914 src/uv.c:159 uv maybe fire close cb
LIBRAFT   1719786471706328007 src/uv_finalize.c:39 finalize open-1 into 0000000000000001-0000000000000007
LIBRAFT   1719786471755406150 src/uv_finalize.c:68 truncate segment open-1: rename: no such file or directory
LIBRAFT   1719786471809688700 src/uv.c:159 uv maybe fire close cb
LIBRAFT   1719786471809731967 src/uv.c:159 uv maybe fire close cb
LIBRAFT   1719786471809755904 src/uv.c:159 uv maybe fire close cb
LIBRAFT   1719786471809776275 src/uv_finalize.c:78 uv finalize after work cb status:0
LIBRAFT   1719786471809788678 src/uv_finalize.c:92 unblock barrier or close
LIBRAFT   1719786471809795390 src/uv.c:159 uv maybe fire close cb
LIBRAFT   1719786471809805548 src/raft.c:113 io close cb
LIBDQLITE 1719786471810036475 fsm__close:736 fsm close
LIBDQLITE 1719786471810093982 raftProxyClose:262 raft proxy close
LIBDQLITE 1719786471810113304 VfsClose:2056 vfs close
